# Configuración para Cloudflare Pages
# Archivo: wrangler.toml

name = "felipe-legal-ai"
compatibility_date = "2024-01-15"

[env.production]
name = "felipe-legal-ai"
route = "felipe.tu-dominio.com/*"

[env.production.vars]
NODE_ENV = "production"
VITE_CLAUDE_API_KEY = "tu-claude-api-key"
VITE_CLAUDE_BASE_URL = "https://api.anthropic.com/v1"
VITE_CLAUDE_MODEL = "claude-3-sonnet-20240229"
VITE_MCP_SERVER_URL = "wss://tu-servidor-mcp.com"

[[env.production.services]]
binding = "AI"
service = "felipe-ai-worker"

[build]
command = "npm run build"
cwd = "."
watch_dir = "src"

[build.upload]
format = "service-worker"
dir = "dist"
main = "./dist/index.html"

# Workers para funciones serverless
[[workers]]
name = "felipe-ai-worker"
script = "workers/ai-worker.js"
compatibility_date = "2024-01-15"

[[workers.bindings]]
name = "CLAUDE_API_KEY"
type = "secret"
text = "tu-claude-api-key"

[[workers.bindings]]
name = "MCP_SERVER_URL"
type = "secret"
text = "wss://tu-servidor-mcp.com"

# Configuración de Pages
[pages]
build_output_dir = "dist"
build_command = "npm run build"